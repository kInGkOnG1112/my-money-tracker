{% extends 'base/base.html' %}

{% block menu %}
    {% include 'base/menu.html' %}
{% endblock menu %}

{% block content %}
<div class="card card-custom">
    <div class="card-header ">
        <div class="card-title">
            <span class="card-icon mt-1">
                <i class="lni lni-agenda text-primary"></i>
            </span>
            <h3 class="card-label">
                Records
                <small>Generated</small>
            </h3>
            <div class="card-toolbar">
                <div class="example-tools justify-content-center">
                    <button class="btn font-weight-bolder font-size-sm w-100 btn-primary"
                         data-bs-toggle="modal" data-bs-target="#createRecordSelection">
                        <i class="lni lni-plus"></i>
                        Add New Record
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="card-body">
        <div class="flex-row">
            <div class="alert alert-custom alert-default mb-5" role="alert">
                <div class="alert-icon">
                    <span class="svg-icon svg-icon-primary svg-icon-xl">
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                <rect x="0" y="0" width="24" height="24"></rect>
                                <path d="M7.07744993,12.3040451 C7.72444571,13.0716094 8.54044565,13.6920474 9.46808594,14.1079953 L5,23 L4.5,18 L7.07744993,12.3040451 Z M14.5865511,14.2597864 C15.5319561,13.9019016 16.375416,13.3366121 17.0614026,12.6194459 L19.5,18 L19,23 L14.5865511,14.2597864 Z M12,3.55271368e-14 C12.8284271,3.53749572e-14 13.5,0.671572875 13.5,1.5 L13.5,4 L10.5,4 L10.5,1.5 C10.5,0.671572875 11.1715729,3.56793164e-14 12,3.55271368e-14 Z" fill="#000000" opacity="0.3"></path>
                                <path d="M12,10 C13.1045695,10 14,9.1045695 14,8 C14,6.8954305 13.1045695,6 12,6 C10.8954305,6 10,6.8954305 10,8 C10,9.1045695 10.8954305,10 12,10 Z M12,13 C9.23857625,13 7,10.7614237 7,8 C7,5.23857625 9.23857625,3 12,3 C14.7614237,3 17,5.23857625 17,8 C17,10.7614237 14.7614237,13 12,13 Z" fill="#000000" fill-rule="nonzero"></path>
                            </g>
                        </svg>
                    </span>
                </div>
                <div class="alert-text">
                    Here is the filtration form for the list of all Records (Expense and Income). Please review and apply the necessary filters accordingly.
                </div>
            </div>
            <div class="form-row p-0">
                <div class="col-12 col-md-6 ">
                    <div class="input-icon">
						<input type="text" class="form-control" placeholder="Search.." id="kt_datatable_search_query">
						<span><i class="lni lni-search text-muted"></i></span>
					</div>
                </div>
                <div class="col-12 col-md-3 ">
                    <div class="input-icon">
						<input type="text" class="form-control" placeholder="Select date range.." id="kt_datatable_search_query">
						<span><i class="lni lni-calendar text-muted"></i></span>
					</div>
			    </div>
                <div class="col-12 col-md-3 ">
                    <select class="form-control " id="exampleSelectl">
                        <option class="text-muted" label="Select Account" hidden=""></option>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                        <option>5</option>
                    </select>
			    </div>
                <div class="col-12 mt-5">
                    <table class="table table-custom">
                        <thead>
                            <tr>
                                <th scope="col">Record</th>
                                <th scope="col">Amount </th>
                                <th scope="col">Type</th>
                                <th scope="col">Date</th>
                                <th scope="col">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <div class="symbol symbol-50 symbol-light mr-4">
                                            <span class="symbol-label">
                                                <img src="" class="h-75 align-self-end" alt="">
                                            </span>
                                        </div>
                                        <div>
                                            <a href="#" class="text-dark-75 font-weight-bolder text-hover-primary mb-1 font-size-lg">Brad Simmons</a>
                                            <span class="text-muted font-weight-bold d-block">HTML, JS, ReactJS</span>
                                        </div>
                                    </div>
                                </td>
                                <td class="align-middle">
                                    <span class="text-dark-75 font-weight-bolder text-hover-primary mb-1 font-size-lg">Brad Simmons</span>
                                </td>
                                <td class="align-middle">
                                    <span class="text-dark-75 font-weight-bolder text-hover-primary mb-1 font-size-lg">Brad Simmons</span>
                                </td>
                                <td class="align-middle">
                                    <span class="text-dark-75 font-weight-bolder text-hover-primary mb-1 font-size-lg">Brad Simmons</span>
                                </td>
                                <td class="align-middle">
                                    <a href="#" class="btn btn-icon btn-light btn-hover-primary btn-sm mx-3">
                                        <span class="svg-icon svg-icon-md svg-icon-primary">
                                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                                <title>View Record</title>
                                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                    <rect x="0" y="0" width="24" height="24"></rect>
                                                    <path d="M12.2674799,18.2323597 L12.0084872,5.45852451 C12.0004303,5.06114792 12.1504154,4.6768183 12.4255037,4.38993949 L15.0030167,1.70195304 L17.5910752,4.40093695 C17.8599071,4.6812911 18.0095067,5.05499603 18.0083938,5.44341307 L17.9718262,18.2062508 C17.9694575,19.0329966 17.2985816,19.701953 16.4718324,19.701953 L13.7671717,19.701953 C12.9505952,19.701953 12.2840328,19.0487684 12.2674799,18.2323597 Z" fill="#000000" fill-rule="nonzero" transform="translate(14.701953, 10.701953) rotate(-135.000000) translate(-14.701953, -10.701953) "></path>
                                                    <path d="M12.9,2 C13.4522847,2 13.9,2.44771525 13.9,3 C13.9,3.55228475 13.4522847,4 12.9,4 L6,4 C4.8954305,4 4,4.8954305 4,6 L4,18 C4,19.1045695 4.8954305,20 6,20 L18,20 C19.1045695,20 20,19.1045695 20,18 L20,13 C20,12.4477153 20.4477153,12 21,12 C21.5522847,12 22,12.4477153 22,13 L22,18 C22,20.209139 20.209139,22 18,22 L6,22 C3.790861,22 2,20.209139 2,18 L2,6 C2,3.790861 3.790861,2 6,2 L12.9,2 Z" fill="#000000" fill-rule="nonzero" opacity="0.3"></path>
                                                </g>
                                            </svg>
                                        </span>
                                    </a>
                                    <a href="#" class="btn btn-icon btn-light btn-hover-danger btn-sm">
                                        <span class="svg-icon svg-icon-md svg-icon-danger">
                                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                                <title>Delete Record</title>
                                                <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                    <rect x="0" y="0" width="24" height="24"></rect>
                                                    <path d="M6,8 L6,20.5 C6,21.3284271 6.67157288,22 7.5,22 L16.5,22 C17.3284271,22 18,21.3284271 18,20.5 L18,8 L6,8 Z" fill="#000000" fill-rule="nonzero"></path>
                                                    <path d="M14,4.5 L14,4 C14,3.44771525 13.5522847,3 13,3 L11,3 C10.4477153,3 10,3.44771525 10,4 L10,4.5 L5.5,4.5 C5.22385763,4.5 5,4.72385763 5,5 L5,5.5 C5,5.77614237 5.22385763,6 5.5,6 L18.5,6 C18.7761424,6 19,5.77614237 19,5.5 L19,5 C19,4.72385763 18.7761424,4.5 18.5,4.5 L14,4.5 Z" fill="#000000" opacity="0.3"></path>
                                                </g>
                                            </svg>
                                        </span>
                                    </a>
                                </td>
                            </tr>

                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="createRecordSelection" tabindex="-1" role="dialog"
     data-bs-backdrop="static" data-bs-keyboard="false" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-body">
                <div class="row justify-content-center align-items-center">
                    <div class="col-lg-10">
                        <div class="row justify-content-center align-items-center">
                            <div class="col-lg-12 mt-5 d-flex justify-content-center">
                                <h5 class="modal-title" id="exampleModalLabel">How do you want to add Record?</h5>
                            </div>
                            <div class="col-lg-12 mt-5">
                                <div class="row justify-content-center ">
                                    <div class="col-lg-6" data-bs-dismiss="modal">
                                        <a class="form-row align-content-center flex-column pt-7 pb-7 cursor-pointer custom-round-border-10"
                                            data-bs-toggle="modal"
                                            data-bs-target="#createRecordModal"
                                            onclick="toggleRecordForm('income')">
                                            <span class="svg-icon svg-icon-primary svg-icon-5x">
                                                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                        <rect x="0" y="0" width="65" height="65"></rect>
                                                        <path d="M10.5,5 L20.5,5 C21.3284271,5 22,5.67157288 22,6.5 L22,9.5 C22,10.3284271 21.3284271,11 20.5,11 L10.5,11 C9.67157288,11 9,10.3284271 9,9.5 L9,6.5 C9,5.67157288 9.67157288,5 10.5,5 Z M10.5,13 L20.5,13 C21.3284271,13 22,13.6715729 22,14.5 L22,17.5 C22,18.3284271 21.3284271,19 20.5,19 L10.5,19 C9.67157288,19 9,18.3284271 9,17.5 L9,14.5 C9,13.6715729 9.67157288,13 10.5,13 Z" fill="#000000"></path>
                                                        <rect fill="#000000" opacity="0.3" x="2" y="5" width="5" height="14" rx="1"></rect>
                                                    </g>
                                                </svg>
                                            </span>
                                            <span class="mt10 text-dark align-self-center">Income</span>
                                        </a>
                                    </div>
                                    <div class="col-lg-6" data-bs-dismiss="modal">
                                        <a class="form-row align-content-center flex-column pt-7 pb-7 cursor-pointer custom-round-border-10"
                                            data-bs-toggle="modal"
                                            data-bs-target="#createRecordModal"
                                            onclick="toggleRecordForm('expense')">
                                            <span class="svg-icon svg-icon-primary svg-icon-5x ">
                                                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                                        <rect x="0" y="0" width="24" height="24"></rect>
                                                        <rect fill="#000000" opacity="0.3" x="4" y="5" width="16" height="6" rx="1.5"></rect>
                                                        <rect fill="#000000" x="4" y="13" width="16" height="6" rx="1.5"></rect>
                                                    </g>
                                                </svg>
                                            </span>
                                            <span class="mt10 text-dark align-self-center">Expense</span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-12 mt-5 d-flex justify-content-center">
                                <button type="button" class="btn btn-light-primary font-weight-bold align-center mt40" data-bs-dismiss="modal" aria-label="Close">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="createRecordModal"  tabindex="-1" role="dialog"
     data-bs-backdrop="static" data-bs-keyboard="false" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered"  role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Income Form</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="form-row justify-content-center">
                    <div class="col-lg-12 mt-2" data-select2-id="10">
                        <label for="category">Category: <span class="text-danger">*</span></label>
                        <select class="form-control select" required="" id="category" name="category" >
                            <option label="Select Category" hidden="hidden" ></option>
                            <option value="3" data-select2-id="16">VARIOUS POD ACCOUNTS</option>
                            <option value="2" data-select2-id="17">PLDT SMART DIGITEL ACCOUNTS</option>
                            <option value="1" data-select2-id="18">PHARMA ACCOUNTS</option>
                        </select>
                    </div>
                    <div class="col-lg-12 mt-2" data-select2-id="10">
                        <label for="category">Account: <span class="text-danger">*</span></label>
                        <select class="form-control select" required="" id="category" name="category" >
                            <option label="Select Account" hidden="hidden" ></option>
                            <option value="3" data-select2-id="16">VARIOUS POD ACCOUNTS</option>
                            <option value="2" data-select2-id="17">PLDT SMART DIGITEL ACCOUNTS</option>
                            <option value="1" data-select2-id="18">PHARMA ACCOUNTS</option>
                        </select>
                    </div>
                    <div class="col-lg-6 mt-2">
                        <label for="date">Date: </label>
                        <input type="text" class="form-control" id="date" name="date" readonly placeholder="Date">
                    </div>
                    <div class="col-lg-6 mt-2">
                        <label for="time">Time: </label>
                        <input type="text" class="form-control" id="time" name="time" readonly placeholder="Time">
                    </div>
                    <div class="col-lg-12 mt-2">
                        <label for="notes">Notes: </label>
                        <textarea class="form-control" id="notes" name="name" placeholder="Notes" rows="5"></textarea>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}
{% block javascript %}
<script>
    // Initialize date picker with today's date as default
    flatpickr("#date", {
        dateFormat: "Y-m-d",  // Format: YYYY-MM-DD
        defaultDate: new Date(),  // Set today's date
        allowInput: true  // Allow manual input
    });

    // Initialize time picker with current time as default
    flatpickr("#time", {
        enableTime: true,
        noCalendar: true,
        dateFormat: "h:i K",  // Format: 24-hour time (HH:MM)
        defaultDate: new Date(),  // Set current time
        time_24hr: false,  // Use 24-hour format
        allowInput: true  // Allow manual input
    });

    function toggleRecordForm(type) {
        const recordModalTitle = $('#recordModalTitle')
        if (type === 'income'){
            recordModalTitle.html('Income Form')
        }else{
            recordModalTitle.html('Expense Form')
        }
    }
</script>
{% endblock %}